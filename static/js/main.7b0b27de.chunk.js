(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(n,e,t){n.exports=t(58)},37:function(n,e,t){},58:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(25),o=t.n(i),c=(t(37),t(1)),u=t(11),l=t(4),s=t(5),p=t(7),d=t(6),h=t(8),f=t(2);function b(){var n=Object(c.a)(["\n  margin-left: 18px;\n"]);return b=function(){return n},n}function g(){var n=Object(c.a)(["\n  height: 35px;\n  background: #2e9127;\n  font-size: 14px;\n  color: white;\n  letter-spacing: 0.05em;\n  font-weight: bold;\n  line-height: 1.42857;\n  font-family: proxima, BloggerSans, sans-serif;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  width: 300px;\n  border-radius: 8px 8px 0px 0px;\n"]);return g=function(){return n},n}var m=function(n){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,n),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(x,null,r.a.createElement(v,null,"Find me a movie"))}}]),e}(r.a.Component),x=f.a.div(g()),v=f.a.span(b()),O=m,j=t(28),w=t(9),y=t.n(w),k=t(10),S=t.n(k);function E(){var n=Object(c.a)(["\n  color: rgb(74, 74, 74);\n  width: 100%;\n  padding-left: 20px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n\n  &:hover {\n    background: #eeeeee;\n  }\n"]);return E=function(){return n},n}function C(){var n=Object(c.a)(["\n  width: 40px;\n  height: 40px;\n  margin-left: 10px;\n"]);return C=function(){return n},n}function V(){var n=Object(c.a)(["\n  border-bottom: 1px solid rgb(55, 171, 46);\n  margin-left: 15px;\n  color: rgb(46, 145, 39);\n  padding-top: 10px;\n  padding-bottom: 5px;\n  margin-bottom: 5px;\n"]);return V=function(){return n},n}function R(){var n=Object(c.a)(["\n  border-bottom: 1px solid rgb(55, 171, 46);\n  margin-left: 15px;\n  color: rgb(46, 145, 39);\n  padding-top: 10px;\n  padding-bottom: 5px;\n"]);return R=function(){return n},n}function A(){var n=Object(c.a)(["\n  position: absolute;\n  width: 222px;\n  top: 58px;\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 8px 12px 0px;\n  border-radius: 0px 0px 6px 6px;\n  background: white;\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n  min-height: 50px;\n  max-height: 200px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding-bottom: 5px;\n"]);return A=function(){return n},n}function T(){var n=Object(c.a)(["\n  font-family: proxima, BloggerSans, sans-serif;\n  width: 200px;\n  height: 40px;\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0;\n\n  outline: none !important;\n  padding-left: 20px;\n  font-size: 18px;\n\n  &:focus {\n    border: 1px solid rgba(75, 135, 175);\n  }\n"]);return T=function(){return n},n}function I(){var n=Object(c.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n"]);return I=function(){return n},n}Object(j.a)({HAS_RESULT:"HAS_RESULT",TOO_MANY:"HAS_RESULT"},"TOO_MANY","HAS_RESULT");var _=function(n){function e(n){var t;return Object(l.a)(this,e),(t=Object(p.a)(this,Object(d.a)(e).call(this,n))).state={recentSearchs:[],inputValue:"",isInputFocused:!1,results:[],showAutocomplete:!1},t.requestSource=null,t}return Object(h.a)(e,n),Object(s.a)(e,[{key:"onInputValueChange",value:function(n){var e=this;this.setState({recentSearchs:JSON.parse(S.a.get("recent-searchs")||"[]")}),this.setState({inputValue:n});var t=y.a.CancelToken.source();null!==this.requestSource&&this.requestSource.cancel("cancel by "+n),this.requestSource=t,y.a.get("https://www.omdbapi.com/?s=".concat(n,"&apikey=2ac2d3d6"),{cancelToken:t.token}).then(function(n){console.log(n.data),e.setState({results:n.data.Search||[]})})}},{key:"render",value:function(){var n=this;return r.a.createElement(U,null,r.a.createElement(L,{onFocus:function(e){return n.setState({isInputFocused:!0,showAutocomplete:!0})},onBlur:function(e){return n.setState({isInputFocused:!1})},value:this.state.inputValue,onChange:function(e){return n.onInputValueChange(e.target.value)}}),r.a.createElement(B,{onClick:function(e){return n.props.onClickSearch({str:n.state.inputValue})}},"GO"),this.state.showAutocomplete&&r.a.createElement(M,null,r.a.createElement(z,null,"Results"),this.state.results.map(function(e,t){return r.a.createElement(F,{key:t,onClick:function(){console.log("onClick"),n.setState({inputValue:e.Title},function(){console.log(n.state.inputValue),n.onInputValueChange(n.state.inputValue)})}},e.Title)}),r.a.createElement(z,null,"Recent Searchs"),this.state.recentSearchs.filter(function(e){return e.toLowerCase().includes(n.state.inputValue.toLowerCase())}).map(function(e,t){return r.a.createElement(F,{key:t,onClick:function(){n.setState({inputValue:e},function(){n.onInputValueChange(e)})}},e)})))}}]),e}(r.a.Component),U=f.a.div(I()),L=f.a.input(T()),M=f.a.label(A()),z=(f.a.div(R()),f.a.div(V())),B=f.a.button(C()),F=f.a.div(E()),H=_;function J(){var n=Object(c.a)(["\n  background: white;\n  width: 300px;\n  height: 112px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return J=function(){return n},n}var N=function(n){function e(n){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).call(this,n))}return Object(h.a)(e,n),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement(O,null),r.a.createElement(H,{onClickSearch:this.props.onClickSearch}))}}]),e}(r.a.Component),q=f.a.div(J()),Y=N;function P(){var n=Object(c.a)(["\n  height: 150px;\n  border-radius: 4px;\n  width: 25%;\n"]);return P=function(){return n},n}function W(){var n=Object(c.a)(["\n  color: rgb(74, 74, 74);\n  width: 20%;\n"]);return W=function(){return n},n}function D(){var n=Object(c.a)(["\n  color: rgb(55, 171, 46);\n  font-size: 25px;\n  flex-basis: 45%;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  padding: 10px;\n"]);return D=function(){return n},n}function G(){var n=Object(c.a)(["\n  width: 400px;\n  height: 200px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgb(238, 238, 238);\n\n  &:last-child {\n    border: 0;\n  }\n"]);return G=function(){return n},n}var $=function(n){function e(n){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).call(this,n))}return Object(h.a)(e,n),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(K,null,r.a.createElement(Q,null,this.props.title),r.a.createElement(X,null,"Y: ",this.props.year),r.a.createElement(Z,{src:"N/A"===this.props.posterUrl?"https://static.amazon.jobs/teams/53/thumbnails/IMDb_Jobs_Header_Mobile.jpg?1501027253":this.props.posterUrl,alt:"no poster available"}))}}]),e}(r.a.Component),K=f.a.div(G()),Q=f.a.div(D()),X=f.a.div(W()),Z=f.a.img(P()),nn=$;function en(){var n=Object(c.a)(["\n  width: 400px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  background: white;\n"]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n  font-size: 18px;\n  color: white;\n  padding-bottom: 20px;\n"]);return tn=function(){return n},n}function an(){var n=Object(c.a)(["\n  width: 900px;\n  max-width: 85%;\n  min-width: 500px;\n  padding-bottom: 100px;\n  padding-top: 60px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return an=function(){return n},n}function rn(){var n=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  background: rgb(55, 171, 46);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return rn=function(){return n},n}var on=function(n){function e(n){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).call(this,n))}return Object(h.a)(e,n),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(cn,null,r.a.createElement(un,null,r.a.createElement(ln,null,"Suggested Movies"),r.a.createElement(sn,null,this.props.list.map(function(n,e){return r.a.createElement(nn,{title:n.Title,year:n.Year,posterUrl:n.Poster,key:e})}))))}}]),e}(r.a.Component),cn=f.a.div(rn()),un=f.a.div(an()),ln=f.a.div(tn()),sn=f.a.div(en()),pn=on;function dn(){var n=Object(c.a)(["\n  background: #37ab2e;\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: auto;\n"]);return dn=function(){return n},n}function hn(){var n=Object(c.a)(["\n  background: #37ab2e;\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return hn=function(){return n},n}function fn(){var n=Object(c.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n"]);return fn=function(){return n},n}var bn=function(n){function e(){var n,t;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(n=Object(d.a)(e)).call.apply(n,[this].concat(r)))).state={searchResult:[],currentPage:0},t}return Object(h.a)(e,n),Object(s.a)(e,[{key:"search",value:function(n){var e=this,t=n.str,a=JSON.parse(S.a.get("recent-searchs")||"[]");a.includes(t)||S.a.set("recent-searchs",[].concat(Object(u.a)(a),[t]));var r="https://www.omdbapi.com";y.a.get("".concat(r,"/?s=").concat(t,"&apikey=2ac2d3d6")).then(function(n){if(n.data.totalResults){for(var a,i=Math.ceil(n.data.totalResults/10),o=[],c=1;c<=i;c++)o.push(y.a.get("".concat(r,"/?s=").concat(t,"&apikey=2ac2d3d6&page=").concat(c)));Promise.all(o).then(function(n){a=n.reduce(function(n,e){return n=[].concat(Object(u.a)(n),Object(u.a)(e.data.Search))},[]),console.log("allSearchResult",a),e.setState({searchResult:a})})}})}},{key:"render",value:function(){var n=this;return r.a.createElement(gn,null,r.a.createElement(mn,null,r.a.createElement(Y,{onClickSearch:function(e){var t=e.str;return n.search({str:t})}})),r.a.createElement(xn,null,r.a.createElement(pn,{list:this.state.searchResult})))}}]),e}(r.a.Component),gn=f.a.div(fn()),mn=f.a.div(hn()),xn=f.a.div(dn()),vn=bn;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.7b0b27de.chunk.js.map